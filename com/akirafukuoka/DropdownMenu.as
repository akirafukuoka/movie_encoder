package com.akirafukuoka {	import flash.display.Sprite;	import flash.text.TextField;	import flash.events.MouseEvent;	import flash.text.TextFormat;	import flash.filters.DropShadowFilter;		public class DropdownMenu extends Sprite {				var _body:Sprite = new Sprite();		var _bg:Sprite = new Sprite();		var _arrow:Sprite = new Sprite();		var _label:TextField = new TextField();		var _func:Function;				var _selects:Sprite = new Sprite();				var _value:* = "";				var _green:Number = 0x38dc7c;				public function DropdownMenu(width:Number, height:Number, labelArray:Array,valueArray:Array, func:Function) {			// constructor code			_func = func;			_bg.graphics.beginFill(_green);			_bg.graphics.drawRect(0,0,width,height);			_arrow.graphics.beginFill(0xFFFFFF);			_arrow.graphics.moveTo(0,0);			_arrow.graphics.lineTo(10,10);			_arrow.graphics.lineTo(0,20);			_arrow.graphics.lineTo(0,0);			_arrow.x = _bg.width - 20;			_arrow.y = Math.floor((_bg.height-_arrow.height)*0.5);									var format:TextFormat = new TextFormat();			format.color = 0xFFFFFF;			format.font = "Avenir Next Bold";			format.size = 24;						_label.defaultTextFormat = format;			_label.text = labelArray[0];			_label.autoSize = "left";			//_label.x = Math.round((_bg.width- _label.width)*0.5);			_label.x = 20;			_label.y = Math.round((_bg.height- _label.height)*0.5);						_selects.x = 5;			_selects.y = 5;			_selects.filters = [new DropShadowFilter(4,45,0,0.15,0,0,1,1,false,false,false)];			var select:DropdownMenuSelect;			for(var i:int = 0;i<labelArray.length;i++){				select = new DropdownMenuSelect(width,height,labelArray[i],valueArray[i],clickSelect);				select.y = height*i;				_selects.addChild(select);			}			_selects.visible = false;						_value = valueArray[0];												_body.addChild(_bg);			_body.addChild(_arrow);			_body.addChild(_label);			addChild(_body);			addChild(_selects);			buttonMode = true;			//_body.addEventListener(MouseEvent.ROLL_OVER,onRollOver);			_body.addEventListener(MouseEvent.CLICK,onClick);					}		public function get value():* {			return _value;		}		private function onClick(event:MouseEvent=null):void{			_selects.visible = !_selects.visible;		}				private function clickSelect(select:DropdownMenuSelect):void{			_label.text = select.label;			_value = select.value;			_selects.visible = false;			_func();		}					}	}